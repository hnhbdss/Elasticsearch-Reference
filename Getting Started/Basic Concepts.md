# 基本概念

Elasticsearch有一些核心概念。一开始就理解这些概念可以极大的帮助学习过程。

## 接近实时(NRT)

Elasticsearch是一个接近实时的搜索平台。这意味着从索引一个文档到可以搜索这个文档之间存在一个延迟（通常是1秒）。

## 集群

集群是一个或者更多的节点（服务器）的集合，这个集群一起保存所有的数据，提供跨节点的联合索引和搜索能力。集群通过唯一的名称来识别，默认是"elasticsearch"。这个名称很重要，因为如果节点设置为通过其名称加入集群，则节点只能是集群的一部分。

不要在不同的环境中重复使用相同的集群名称，否则你最终可能会加入错误的集群。比如你可以在开发、阶段、生产环境中使用`logging-dev`,`logging-stage`,`logging-prod`。

注意，单个节点的集群是有效且完美的。此外，你还可以有多个独立的集群，每个集群都有自己唯一的集群名称。

## 节点

## 分片和副本

索引可以潜在地存储超过单个节点硬件限制的大量数据。比如，10亿个简单的索引占用1TB的磁盘空间，单个节点可能无法承载或者单个节点来提供多个搜索请求太慢。

为了解决这个问题，Elasticsearch将索引细分为多个分片。当你创建索引是，你可以简单地定义分片的数量。每个分片都是一个功能完整和独立的“索引”，可以托管在集群中任何节点上。

分片有两个非常重要的原因：

- 它允许你水平分割/缩放内容卷
- 它允许你跨分片（潜在是在多个节点上的）分布式并行操作，从而提高性能/吞吐量。

分片如何分布式操作以及文档如何聚合成搜索请求的结果完全由Elasticsearch控制，对用户是透明的。

在网络/云环境中，故障是随时可以预期的。故障转移机制是有用并且被强烈推荐的，防止分片/节点以某种方式脱机或由于某种原因消失。为此，Elasticsearch允许你将索引分片的一个或多个拷贝转换为分片副本或者简称副本。

## 副本有两个非常重要的原因

- 它在分片/节点故障时提供高可用性。因此，注意不能将分片副本分配到和原始分片相同的节点中。
- 允许扩展吞吐量，因为搜索可以在所有副本上并行执行。

总而言之，每个索引可以分成多个分片。索引也可以复制0次（没有副本）或多次。一旦被复制，每个索引就有了主分片（拷贝来源的原始分片）和分片副本（主分片的拷贝）。索引创建时每个索引都可以定义大量的分片和副本。索引创建之后，可以动态地修改副本数量，但是不可以修改分片的数量。

